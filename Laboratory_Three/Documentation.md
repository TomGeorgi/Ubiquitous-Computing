# Laboratory 3: Smart Home Light Bulb
#### by Tom Georgi & Joshua Rutschmann

## Table of Contents

  - [0. Main Exercise](#0-main-exercise)
  - [1. Web App](#1-using-web-app-to-connect)
  - [2. Executing simple commands](#2-executing-simple-commands)
  - [3. Colors](#3-conntect-to-a-ps4-remote-controller)
  - [4. Program Design](#5-program-design)


## 0. Main Exercise


    The functionality should be implemented in the developed application. The application must have interactive user interface for launching the mentioned function and (optionally) other functionality.

## 1. Using web app to connect

The web app didn't work so we used postman to send our commands, as the web app does the same thing. It simply runs on the bridge and inside a webpage nothing more.

    <Insert error message of web app>

## 2. Executing simple commands

    Register with the Hue Bridge, control the state of the Philips Hue Bulb.
    Pick a unique color and set color(value), saturation and brightness.
    Change them.

-
    We tested the communication with the lamp and bridge using postman.

    1. Authentication / Registration: We retrieved the username.

    Therefore we needed POST to `http://<huebridge-ip>/api` and also specify the device type using json in the message body. The key must be `"devicetype"` and the value `"my_hue_app#<devicename>"`. The we took note of the received userid. In code this is accessed using following pseudo code: result[0]["success"]

    1. Fetching present light bulbs

    The
    1. Switching light bulb on and off

![](img/user.png)


Preparation commands:

    <Insert commands here>

Picked color: orange

    <Command to send hsv>



## 3. Colors and the C.I.E.

![](img/cie.jpg)
    

## 2. Design Concept

-
    Our Lightbulb should monitor one of these conditions:
    - CPU Load
    - RAM Usage

    
    This is extremly useful if you have a server which you want to monitor. Instead of looking at the servers load via remote access (manual polling) your room light changes its color according to the systems load. A green color represents 0% load or 0% memory usage and red represents 100% load / memory usage.
    
    Another mode is the threshold mode. Given that you do not want the lightbulb to be on all the time and want to guarantee that your machine is not in an overloaded sitution the lamp only gets activated if you 

    If you start the program for the first time you are prompted to press the button on the Philips Hue Bridge. The username, generated by the hue bridge, is persistently stored for later program launches.


## 3. Conntect to a PS4 Remote Controller



## 5. Program Design

- 
    We chose rust as our language because it is fast and stable.

    These are the crates that we used:
    - philipshue
    - cpu-monitor = "0.1.1"
ctrlc = "3.1.3"

## 6. Autonomous car features

-
    The developed autonomous feature is called `tracking`.
    In the so-called `record-mode` it records all values which are passed on to the motors (steering motor, speed motor). The `record-mode` can be switched on and off at will. After the `record-mode` has been terminated, the recording can be played forward or backward using the following keys:
    
    - The ⬛-Key replays the recording
    - The ◯-Key replays the recorded track in reverse
    
    If the `record-mode` is activated, a new recording is started. Only the last recording will be stored. 

